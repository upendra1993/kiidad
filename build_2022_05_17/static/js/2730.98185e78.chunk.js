"use strict";(self.webpackChunkkiidad=self.webpackChunkkiidad||[]).push([[2730],{6365:function(e,t,r){r.d(t,{r:function(){return s}});var n,a=r(2791),l=["title","titleId"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i(e,t){var r=e.title,i=e.titleId,s=o(e,l);return a.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-chevron-right",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),r?a.createElement("title",{id:i},r):null,n||(n=a.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})))}var s=a.forwardRef(i);r.p},1458:function(e,t,r){r.d(t,{r:function(){return u}});var n,a,l=r(2791),c=["title","titleId"];function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s(e,t){var r=e.title,s=e.titleId,u=i(e,c);return l.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},u),r?l.createElement("title",{id:s},r):null,n||(n=l.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"})),a||(a=l.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})))}var u=l.forwardRef(s);r.p},3853:function(e,t,r){r.d(t,{r:function(){return s}});var n,a=r(2791),l=["title","titleId"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i(e,t){var r=e.title,i=e.titleId,s=o(e,l);return a.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-truck",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),r?a.createElement("title",{id:i},r):null,n||(n=a.createElement("path",{fillRule:"evenodd",d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})))}var s=a.forwardRef(i);r.p},2336:function(e,t,r){r.d(t,{$Z:function(){return a},Eh:function(){return c},LL:function(){return o},Xq:function(){return n},cl:function(){return i}});var n=function(e,t,r){var n=JSON.parse(localStorage.getItem("cart")),a=(n=l(n)).items.some((function(t){return t.id===e}));if(a){var c=n.items.findIndex((function(t){return t.id===e})),o=n.items[c];o.qty+=t,n.items[c]=o}else{var i={id:e,qty:t,unit:r};n.items.push(i)}localStorage.setItem("cart",JSON.stringify(n))},a=function(e,t){var r=JSON.parse(localStorage.getItem("cart")),n=(r=l(r)).items.some((function(t){return t.id===e}));if(n){var a=r.items.findIndex((function(t){return t.id===e})),c=r.items[a];c.qty<=t?r.items.splice(a,1):(c.qty-=t,r.items[a]=c)}localStorage.setItem("cart",JSON.stringify(r))},l=function(e){return null===e||void 0===e?(console.log("cart is undefined"),{items:[],total:0}):(console.log("cart was available"),e)},c=function(){var e=JSON.parse(localStorage.getItem("cart"));return e=l(e)},o=function(){var e=JSON.parse(localStorage.getItem("cart"));return(e=l(e)).items=[],localStorage.setItem("cart",JSON.stringify(e)),e},i=function(e){var t=JSON.parse(localStorage.getItem("cart"));(t=l(t)).items=t.items.filter((function(t){return t.id!==e}))}},3160:function(e,t,r){var n=r(4569),a=r.n(n)().create({baseURL:"http://dev.kiidad.com/api/"});a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t?"Bearer ".concat(t):"",e})),t.Z=a},2730:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=r(181);function o(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=(0,c.Z)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,l=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw l}}}}var i=r(5861),s=r(5671),u=r(3144),m=r(136),d=r(5716),p=r(7757),f=r.n(p),v=r(2791),h=r(1523),b=(r(9065),r(1458));r(6365);r.p;var g=r(3853),y=r(4483),E=r(3174),w=r(2336),O=r(6140),N=r(3160),x=function(e){(0,m.Z)(r,e);var t=(0,d.Z)(r);function r(e){var n;return(0,s.Z)(this,r),(n=t.call(this)).handleSubmit=function(e){e.preventDefault(),console.log("submit working")},n.handleAdd=function(){var e=(0,i.Z)(f().mark((function e(t,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,w.Xq)(t,1,r),e.next=3,n.loadCartItems();case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.handleReduce=function(){var e=(0,i.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,w.$Z)(t,1),e.next=3,n.loadCartItems();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.hadleRemove=function(){var e=(0,i.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,w.cl)(t),e.next=3,n.loadCartItems();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadCartItems=(0,i.Z)(f().mark((function e(){var t,r,a,c,i,s,u,m,d,p,v;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,w.Eh)(),r=t.items,console.log("items",r),a=[],c=0,i=o(r),e.prev=6,i.s();case 8:if((s=i.n()).done){e.next=30;break}return u=s.value,console.log("item ",u),m=u.id,console.log("id ".concat(m)),e.prev=13,e.next=16,N.Z.get("products/get-by-id/".concat(m));case 16:d=e.sent,p=d.data,console.log("data",p),v=l(l(l({},p),u),{},{total:p.price*u.qty}),console.log("item full",v),a.push(v),c+=p.price*u.qty,e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),console.log("error fetching data",e.t0);case 28:e.next=8;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(6),i.e(e.t1);case 35:return e.prev=35,i.f(),e.finish(35);case 38:n.setState({cartitem_all_detais:a}),n.setState({subTotal:c});case 40:case"end":return e.stop()}}),e,null,[[6,32,35,38],[13,25]])}))),n.onSubmitApplyCouponCode=function(){var e=(0,i.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.hadleSetcartvalue=function(){var e=n.state.cartitem_all_detais.map((function(e){return{productId:e.id,qty:e.qty,vendorPriceUnit:e.price}})),t={total:n.state.subTotal,products:e};N.Z.post("http://dev.kiidad.com/api/transactions/create",t).then((function(e){console.log(e),O.ZP.success("Shipping Success"),(0,w.LL)(),window.location.reload()}))},n.state={cartitem_all_detais:[],subTotal:0,imageUrl:"http://dev.kiidad.com/public/products/img/",productLinkUrl:"/product/"},n}return(0,u.Z)(r,[{key:"componentDidMount",value:function(){var e=(0,i.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCartItems();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return v.createElement(v.Fragment,null,v.createElement("div",{className:"bg-secondary border-top p-4 text-white mb-3"},v.createElement("h1",{className:"display-6"},"Shopping Cart")),v.createElement("div",{className:"container mb-3"},v.createElement("div",{className:"row"},v.createElement("div",{className:"col-md-9"},v.createElement("div",{className:"card"},v.createElement("div",{className:"table-responsive"},v.createElement("table",{className:"table table-borderless"},v.createElement("thead",{className:"text-muted"},v.createElement("tr",{className:"small text-uppercase"},v.createElement("th",{scope:"col"},"Product"),v.createElement("th",{scope:"col",width:120},"Quantity"),v.createElement("th",{scope:"col",width:150},"Price"),v.createElement("th",{scope:"col",width:150},"vendors price"),v.createElement("th",{scope:"col",className:"text-right",width:130}))),v.createElement("tbody",null,this.state.cartitem_all_detais.map((function(t){return v.createElement("tr",{key:t.id},v.createElement("td",null,v.createElement("div",{className:"row"},v.createElement("div",{className:"col-3 d-none d-md-block"},v.createElement("img",{src:e.state.imageUrl+t.images[0].url,width:"80",alt:t.images[0].url})),v.createElement("div",{className:"col"},v.createElement(h.rU,{to:e.state.productLinkUrl+t.id,className:"text-decoration-none"},t.name),v.createElement("p",{className:"small text-muted"},"Size: XL, Color: blue, Brand: XYZ")))),v.createElement("td",null,v.createElement("div",{className:"input-group input-group-sm mw-140"},v.createElement("button",{className:"btn btn-primary text-white",type:"button",onClick:function(){return e.handleReduce(t.id)}},v.createElement(y.G,{icon:E.Kl4})),v.createElement("input",{type:"text",className:"form-control",defaultValue:"1",value:t.qty}),v.createElement("button",{className:"btn btn-primary text-white",type:"button",onClick:function(){return e.handleAdd(t.id,t.price)}},v.createElement(y.G,{icon:E.r8p})))),v.createElement("td",null,v.createElement("var",{className:"price"},"Rs. ",t.total,".00"),v.createElement("small",{className:"d-block text-muted"},"Rs. ",t.price," each")),v.createElement("td",null,v.createElement("input",{type:"text",className:"form-control",placeholder:"enter profit"})),v.createElement("td",{className:"text-right"},v.createElement("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return e.hadleRemove(t.id)}},v.createElement(b.r,{className:"i-va"}))))}))))),v.createElement("div",{className:"card-footer"},v.createElement("button",{type:"submit",className:"btn btn-primary float-right",onClick:this.hadleSetcartvalue},"Continue shopping"))),v.createElement("div",{className:"alert alert-success mt-3"},v.createElement("p",{className:"m-0"},v.createElement(g.r,{className:"i-va mr-2"})," Free Delivery within 1-2 weeks"))),v.createElement("div",{className:"col-md-3"},v.createElement("div",{className:"card"},v.createElement("div",{className:"card-body"},v.createElement("dl",{className:"row"},v.createElement("dt",{className:"col-6"},"Total:"),v.createElement("dd",{className:"col-6 text-right  h5"},v.createElement("strong",null,"Rs. ",this.state.subTotal," .00"),v.createElement("input",{type:"hidden",name:"subtotalval",value:this.state.subTotal}))),v.createElement("hr",null),v.createElement("p",{className:"text-center"},v.createElement("img",{src:"../../images/payment/payments.webp",alt:"...",height:26}))))))))}}]),r}(v.Component),S=x}}]);
//# sourceMappingURL=2730.98185e78.chunk.js.map