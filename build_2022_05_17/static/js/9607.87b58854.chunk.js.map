{"version":3,"file":"static/js/9607.87b58854.chunk.js","mappings":"oHAEMA,E,MAAWC,GAAAA,OAAa,CAC1BC,QAAS,+BAIbF,EAASG,aAAaC,QAAQC,KAAI,SAAUC,GACxC,IAAMC,EAAQC,aAAaC,QAAQ,SAEnC,OADAH,EAAOI,QAAQC,cAAiBJ,EAAK,iBAAaA,GAAU,GACrDD,KAaX,O,4IClBMM,GAAaC,EAAAA,EAAAA,OAAK,kBAAM,2DAExBC,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GACS,OADTA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACFC,SAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAW,WAAOC,GAAP,kGAEgBf,EAAAA,EAAAA,KAAW,QAASe,GAFpC,QAECC,EAFD,QAGOC,KAAKC,SACPZ,EAAQU,EAAOC,KAAKX,MACxBC,aAAaY,QAAQ,QAASb,GAC9Bc,EAAAA,GAAAA,QAAc,sBACd,EAAKC,MAAMC,QAAQC,KAAK,MAExBC,MAAM,mCATP,gDAYHC,QAAQC,IAAI,sCAAZ,MAZG,4GAAXZ,GAAW,EA0DV,OA1DU,4EAiBX,uFAEkB,OADFP,aAAaC,QAAQ,SADrC,0EAKwBR,EAAAA,EAAAA,IAAU,YALlC,OAKY2B,EALZ,OAMQP,EAAAA,GAAAA,QAAc,+BACX,SAAUO,EAAIV,MAAMW,KAAKP,MAAMC,QAAQC,KAAK,KAPvD,kDASQE,QAAQC,IAAI,kBAAZ,MACAnB,aAAasB,WAAW,SAVhC,4GAjBW,IAiBX,oBAcA,WACI,OACI,uBAAKC,UAAU,kBACX,uBAAKA,UAAU,cACX,uBAAKA,UAAU,uDACX,gBAAC,KAAD,CAAMC,GAAG,KACL,uBACIC,IAAI,gCACJC,IAAI,MACJH,UAAU,eAGlB,gBAAC,KAAD,CAAMC,GAAG,KACL,uBACIC,IAAI,mCACJC,IAAI,MACJH,UAAU,gBAItB,uBAAKA,UAAU,gBACX,sBAAIA,UAAU,eAAd,WACA,gBAACnB,EAAD,CAAYG,SAAUc,KAAKd,kBAK9C,EA3DCD,CAAmBqB,EAAAA,WA8DzB","sources":["helpers/axios.js","views/account/SignIn.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'http://dev.kiidad.com/api/'\n});\n\n// axio token\ninstance.interceptors.request.use(function (config) {\n    const token = localStorage.getItem('token');\n    config.headers.Authorization =  token ? `Bearer ${token}` : '';\n    return config;\n});\n\n\n// (function() {\n//     let token = localStorage.getItem('token')\n//     if (token) {\n//         instance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n//     } else {\n//         instance.defaults.headers.common['Authorization'] = null;\n//     }\n// })();\n\nexport default instance;","import React, {lazy, Component} from \"react\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport axios from \"../../helpers/axios\";\n\nconst SignInForm = lazy(() => import(\"../../components/account/SignInForm\"));\n\nclass SignInView extends Component {\n    onSubmit = async (values) => {\n        try {\n            let result = await axios.post('login', values);\n            if(result.data.success) {\n                let token = result.data.token;\n                localStorage.setItem('token', token);\n                toast.success(\"login successful !\");\n                this.props.history.push('/');\n            } else {\n                alert(\"authentication failed try again\");\n            }\n        } catch (e) {\n            console.log(\"login request failed with exception\", e);\n        }\n\n    };\n\n    async componentDidMount() {\n        let token = localStorage.getItem('token')\n        if (token === null)\n            return\n        try {\n            let res = await axios.get('get_user');\n            toast.success('you are already logged in !');\n            if('user' in res.data) this.props.history.push('/');\n        } catch (e) {\n            console.log('token not valid', e);\n            localStorage.removeItem('token');\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"container my-3\">\n                <div className=\"row border\">\n                    <div className=\"col-md-6 bg-light bg-gradient p-3 d-none d-md-block\">\n                        <Link to=\"/\">\n                            <img\n                                src=\"../../images/banner/Dell.webp\"\n                                alt=\"...\"\n                                className=\"img-fluid\"\n                            />\n                        </Link>\n                        <Link to=\"/\">\n                            <img\n                                src=\"../../images/banner/Laptops.webp\"\n                                alt=\"...\"\n                                className=\"img-fluid\"\n                            />\n                        </Link>\n                    </div>\n                    <div className=\"col-md-6 p-3\">\n                        <h4 className=\"text-center\">Sign In</h4>\n                        <SignInForm onSubmit={this.onSubmit}/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default SignInView;\n"],"names":["instance","axios","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","SignInForm","lazy","SignInView","onSubmit","values","result","data","success","setItem","toast","props","history","push","alert","console","log","res","this","removeItem","className","to","src","alt","Component"],"sourceRoot":""}